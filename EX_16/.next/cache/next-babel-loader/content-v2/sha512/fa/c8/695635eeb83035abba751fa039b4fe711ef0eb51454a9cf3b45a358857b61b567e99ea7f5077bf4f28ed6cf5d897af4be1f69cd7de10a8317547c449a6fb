{"ast":null,"code":"// API라우트는 서버에서만 돌아감\n// /api/new-meetup 요청이 오면 함수가 트리거됨.\nimport { MongoClient } from \"mongodb\";\n\nconst handler = async (req, res) => {\n  // node.js와 express.js에서 받을 것\n  if (req.method === \"POST\") {\n    const data = req.body;\n    const client = await MongoClient.connect('mongodb+srv://123:Cgjqv93Nzs1OrsoJ@cluster0.jyvgm.mongodb.net/meetups?retryWrites=true&w=majority');\n    const db = client.db(); // MongoDB는 문서들로 가득 찬 컬렉션을 작동시키는 NoSQL 데이터 베이스가 된다.\n    // 컬렉션은 SQL 데이터베이스에 있는 tables, 문서는 해당 tables의 항목\n\n    const meetupsCollection = db.collection('meetups');\n    const result = await meetupsCollection.insertOne(data);\n    console.log(result);\n    client.close(); // 되돌아오는 응답의 HTTP status 코드를 설정하기 위해 응답을 호출\n\n    res.status(201).json({\n      message: 'Meetup inserted!'\n    });\n  }\n};\n\nexport default handler;","map":{"version":3,"sources":["C:/Users/yeoboya/git/react_study/EX_16/pages/api/new-meetup.js"],"names":["MongoClient","handler","req","res","method","data","body","client","connect","db","meetupsCollection","collection","result","insertOne","console","log","close","status","json","message"],"mappings":"AAAA;AACA;AAEA,SAASA,WAAT,QAA4B,SAA5B;;AAEA,MAAMC,OAAO,GAAG,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AAClC;AACA,MAAID,GAAG,CAACE,MAAJ,KAAe,MAAnB,EAA2B;AACzB,UAAMC,IAAI,GAAGH,GAAG,CAACI,IAAjB;AAEA,UAAMC,MAAM,GAAG,MAAMP,WAAW,CAACQ,OAAZ,CAAoB,mGAApB,CAArB;AACA,UAAMC,EAAE,GAAGF,MAAM,CAACE,EAAP,EAAX,CAJyB,CAMzB;AACA;;AACA,UAAMC,iBAAiB,GAAGD,EAAE,CAACE,UAAH,CAAc,SAAd,CAA1B;AAEA,UAAMC,MAAM,GAAG,MAAMF,iBAAiB,CAACG,SAAlB,CAA4BR,IAA5B,CAArB;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAYH,MAAZ;AAEAL,IAAAA,MAAM,CAACS,KAAP,GAbyB,CAezB;;AACAb,IAAAA,GAAG,CAACc,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAACC,MAAAA,OAAO,EAAC;AAAT,KAArB;AACD;AACF,CApBD;;AAsBA,eAAelB,OAAf","sourcesContent":["// API라우트는 서버에서만 돌아감\r\n// /api/new-meetup 요청이 오면 함수가 트리거됨.\r\n\r\nimport { MongoClient } from \"mongodb\";\r\n\r\nconst handler = async (req, res) => {\r\n  // node.js와 express.js에서 받을 것\r\n  if (req.method === \"POST\") {\r\n    const data = req.body;\r\n\r\n    const client = await MongoClient.connect('mongodb+srv://123:Cgjqv93Nzs1OrsoJ@cluster0.jyvgm.mongodb.net/meetups?retryWrites=true&w=majority');\r\n    const db = client.db();\r\n\r\n    // MongoDB는 문서들로 가득 찬 컬렉션을 작동시키는 NoSQL 데이터 베이스가 된다.\r\n    // 컬렉션은 SQL 데이터베이스에 있는 tables, 문서는 해당 tables의 항목\r\n    const meetupsCollection = db.collection('meetups');\r\n\r\n    const result = await meetupsCollection.insertOne(data);\r\n    console.log(result);\r\n    \r\n    client.close();\r\n\r\n    // 되돌아오는 응답의 HTTP status 코드를 설정하기 위해 응답을 호출\r\n    res.status(201).json({message:'Meetup inserted!'});\r\n  }\r\n};\r\n\r\nexport default handler;\r\n"]},"metadata":{},"sourceType":"module"}